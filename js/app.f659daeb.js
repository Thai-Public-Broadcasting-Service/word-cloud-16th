(function(e){function t(t){for(var n,i,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03a3":function(e,t,a){"use strict";a("db45")},1:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=a("0fe8"),r=a("94b3"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("TagCloud")],1)},o=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"d-flex justify-content-center align-items-center",class:{"is-loaded":e.isLoaded},attrs:{id:"loading-screen"}},[e._m(0)]),a("div",{staticClass:"bg-overlay"}),a("div",{staticClass:"container-fluid"},[a("div",{directives:[{name:"motion",rawName:"v-motion"}],staticClass:"header",class:{embed:"embed"===e.query.type},attrs:{initial:{opacity:0,y:100},enter:{opacity:1,y:0,transition:{type:"spring",stiffness:"100",delay:100}}}},[a("button",{staticClass:"btn-question",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#questionModal"}},[e._v(" ขอ 1 คำเพื่อร่วมส่งคำอวยพร และให้กำลังใจไทยพีบีเอส ")])]),a("div",{directives:[{name:"motion",rawName:"v-motion"}],staticClass:"cloud-area",attrs:{initial:{opacity:.5},enter:{opacity:1,transition:{type:"spring",stiffness:"200"}}}},[a("vue-word-cloud",{staticStyle:{width:"100%",height:"calc(90vh - 220px)"},attrs:{words:e.words,"font-family":"DB Helvethaica X",color:function(e){var t=e[1];return t>15?"#E95B39":t>10?"#7b7b7b":t>0?"#5c5c5c":"#9A4312"},spacing:e.spacing,"font-size-ratio":e.ratio}})],1)]),a("div",{staticClass:"modal fade",attrs:{id:"questionModal",tabindex:"-1","aria-labelledby":"questionModal","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[e._m(1),a("div",{staticClass:"modal-body p-4"},[a("div",{staticClass:"row g-3"},[a("div",{staticClass:"col-md-12"},[a("label",{staticClass:"form-label",attrs:{for:"your-voice"}},[e._v("ขอ 1 คำเพื่อร่วมส่งคำอวยพร และให้กำลังใจไทยพีบีเอส")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"form-control",attrs:{id:"your-voice",rows:"2"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),a("p",{directives:[{name:"show",rawName:"v-show",value:e.textError,expression:"textError"}],staticClass:"text-danger"},[e._v("โปรดระบุคำ/ข้อความ")])]),a("div",{staticClass:"col-12"},[a("label",{staticClass:"form-label"},[e._v("เพศของคุณ")]),a("br"),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gender,expression:"gender"}],staticClass:"form-check-input",attrs:{type:"radio",name:"gender",id:"male",value:"male"},domProps:{checked:e._q(e.gender,"male")},on:{change:function(t){e.gender="male"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"male"}},[e._v("ชาย")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gender,expression:"gender"}],staticClass:"form-check-input",attrs:{type:"radio",name:"gender",id:"female",value:"female"},domProps:{checked:e._q(e.gender,"female")},on:{change:function(t){e.gender="female"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"female"}},[e._v("หญิง")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gender,expression:"gender"}],staticClass:"form-check-input",attrs:{type:"radio",name:"gender",id:"other",value:"other"},domProps:{checked:e._q(e.gender,"other")},on:{change:function(t){e.gender="other"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"other"}},[e._v("อื่น ๆ ")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gender,expression:"gender"}],staticClass:"form-check-input",attrs:{type:"radio",name:"gender",id:"not-specified",value:"not-specified"},domProps:{checked:e._q(e.gender,"not-specified")},on:{change:function(t){e.gender="not-specified"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"other"}},[e._v("ไม่ระบุ")])]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.genderError,expression:"genderError"}],staticClass:"text-danger"},[e._v("โปรดเลือกเพศของคุณ")])]),a("div",{staticClass:"col-12"},[a("label",{staticClass:"form-label"},[e._v("ช่วงอายุของคุณ")]),a("br"),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.generation,expression:"generation"}],staticClass:"form-check-input",attrs:{type:"radio",name:"generation",id:"gen-z",value:"gen-z"},domProps:{checked:e._q(e.generation,"gen-z")},on:{change:function(t){e.generation="gen-z"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"gen-z"}},[e._v("น้อยกว่า 26 ปี")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.generation,expression:"generation"}],staticClass:"form-check-input",attrs:{type:"radio",name:"generation",id:"gen-y",value:"gen-y"},domProps:{checked:e._q(e.generation,"gen-y")},on:{change:function(t){e.generation="gen-y"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"gen-y"}},[e._v("26 - 42 ปี")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.generation,expression:"generation"}],staticClass:"form-check-input",attrs:{type:"radio",name:"generation",id:"gen-x",value:"gen-x"},domProps:{checked:e._q(e.generation,"gen-x")},on:{change:function(t){e.generation="gen-x"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"gen-x"}},[e._v("43 - 58 ปี")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.generation,expression:"generation"}],staticClass:"form-check-input",attrs:{type:"radio",name:"generation",id:"baby-boomer",value:"baby-boomer"},domProps:{checked:e._q(e.generation,"baby-boomer")},on:{change:function(t){e.generation="baby-boomer"}}}),a("label",{staticClass:"form-check-label",attrs:{for:"baby-boomer"}},[e._v("59 ปีขึ้นไป")])]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.generationError,expression:"generationError"}],staticClass:"text-danger"},[e._v("โปรดเลือกช่วงอายุของคุณ")])]),a("div",{staticClass:"col-12 text-center"},[a("button",{staticClass:"btn-submit",attrs:{type:"submit"},on:{click:function(t){return e.nextModal()}}},[e._v("ร่วมส่งคำอวยพร")])])])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"personModal",tabindex:"-1","aria-labelledby":"personModal","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[e._m(2),a("div",{staticClass:"modal-body p-4"},[a("div",{staticClass:"row g-3"},[a("div",{staticClass:"col-12 text-center"},[a("h4",[e._v("ขอบคุณที่ร่วมกิจกรรม")]),a("h1",{staticClass:"fw-bold"},[e._v('"'+e._s(e.currentSubject.title)+'" ')])]),a("div",{staticClass:"col-12 text-center"},[a("button",{staticClass:"btn-submit",attrs:{type:"submit",disabled:e.dataSending},on:{click:function(t){return e.sendData()}}},[e.dataSending?a("span",[a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),a("span",{staticClass:"visually-hidden"},[e._v("Loading...")])]):a("span",[e._v("ตกลง")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.sendSuccess,expression:"sendSuccess"}],staticClass:"col-12 text-center"},[a("label",{staticClass:"text-success",staticStyle:{"font-size":"20px","font-weight":"500"}},[e._v("ส่งข้อมูลสำเร็จ!")])])])])])])])])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"spinner-grow",staticStyle:{width:"3rem",height:"3rem"},attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[e._v("Loading...")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn-modal-close",attrs:{type:"button","data-bs-dismiss":"modal"}},[a("i",{staticClass:"bi bi-x-lg"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn-modal-close",attrs:{type:"button","data-bs-dismiss":"modal"}},[a("i",{staticClass:"bi bi-x-lg"})])}],d=a("1da1"),u=(a("96cf"),a("ac1f"),a("841c"),a("d3b7"),a("159b"),a("7db0"),a("1276"),a("e9c4"),a("bc3a")),m=a.n(u),f=a("4328"),p=a.n(f),v=a("2d8a"),h=a.n(v),g=a("7b17"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex justify-content-center align-items-center",class:{"is-loaded":e.isLoaded},attrs:{id:"loading-screen"}},[e._m(0)])},y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"spinner-grow",staticStyle:{width:"3rem",height:"3rem"},attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[e._v("Loading...")])])}],C={name:"LoadingScreen"},w=C,x=(a("c56c"),a("2877")),_=Object(x["a"])(w,b,y,!1,null,"7f14cff4",null),k=_.exports,j={name:"TagCloud",components:{VueWordCloud:h.a,LoadingScreen:k},data:function(){return{words:void 0,data:null,spacing:1,ratio:10,enterAnimation:["animated","bounceIn"],text:null,textError:!1,gender:null,genderError:!1,generation:null,generationError:!1,fullname:null,phone:null,isLoaded:!1,wordModal:null,profileModal:null,personModal:null,noticeModal:null,dataSending:!1,sendSuccess:!1,query:{},subjectList:[{id:1,key:"16th",title:"ร่วมส่งคำอวยพร และให้กำลังใจไทยพีบีเอส",path:"16th"}],currentSubject:{id:1,key:"16th",title:"ร่วมส่งคำอวยพร และให้กำลังใจไทยพีบีเอส",path:"16th"}}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.query=p.a.parse(null===(a=window.location)||void 0===a?void 0:a.search,{ignoreQueryPrefix:!0}),e.currentSubject=e.getCurrentSubject(e.query.subject),n=[],t.next=5,m.a.get("https://asia-southeast1-thai-pbs-special-project.cloudfunctions.net/wordcloud-generic/topics/".concat(e.currentSubject.path,"/overview")).then((function(e){return e.data.forEach((function(e){n.push([e.word,e.count])}))})).finally((function(){e.isLoaded=!0}));case 5:e.words=n;case 6:case"end":return t.stop()}}),t)})))()},methods:{getCurrentSubject:function(e){var t=this.subjectList&&this.subjectList.find((function(t){return t.path===e}));return t||this.subjectList[0]},getSubjectFromQuery:function(e){return e&&e.split("?subject=")?e.split("?subject=")[1]:"election66-topic1"},nextModal:function(){if(this.textError=!this.text,this.genderError=!this.gender,this.generationError=!this.generation,this.textError||this.genderError||this.generationError)return!1;this.personModal.show(),this.wordModal.hide()},sendData:function(){var e=this;this.dataSending=!0;var t=JSON.stringify({data:this.text,gender:this.gender,generation:this.generation,fullname:this.fullname,phone:this.phone}),a={method:"post",url:"https://asia-southeast1-thai-pbs-special-project.cloudfunctions.net/wordcloud-generic/topics/".concat(this.currentSubject.path,"/submit"),headers:{"Content-Type":"application/json"},data:t};m()(a).then((function(e){console.log(e.data)})).finally((function(){e.text="",e.region="",e.generation="",e.fullname="",e.phone="",e.sendSuccess=!0,setTimeout((function(){window.location.reload()}),3e3)})).catch((function(e){console.log(e)}))}},mounted:function(){this.wordModal=new g["a"](document.getElementById("questionModal")),this.personModal=new g["a"](document.getElementById("personModal"))}},S=j,E=(a("03a3"),Object(x["a"])(S,c,l,!1,null,"1f54411d",null)),M=E.exports,q={name:"App",components:{TagCloud:M}},P=q,N=Object(x["a"])(P,i,o,!1,null,null,null),O=N.exports;a("ab8b"),a("cd74"),a("845f"),a("d4b7");n["default"].config.productionTip=!1,n["default"].use(s["a"]),n["default"].use(r["a"]),new n["default"]({render:function(e){return e(O)}}).$mount("#app")},"845f":function(e,t,a){},b715:function(e,t,a){},c56c:function(e,t,a){"use strict";a("b715")},d4b7:function(e,t,a){},db45:function(e,t,a){}});
//# sourceMappingURL=app.f659daeb.js.map